"use strict";(self.webpackChunkbazaar_front=self.webpackChunkbazaar_front||[]).push([[365],{5348:(n,r,a)=>{a.d(r,{A:()=>i});var t=a(1601),o=a.n(t),e=a(6314),c=a.n(e)()(o());c.push([n.id,"/* Стили для страницы корзины */\n\n/* Основные стили */\n.cart-page {\n  padding: 40px 0;\n  background-color: var(--color-background);\n  min-height: calc(100vh - 200px);\n  transition: all var(--transition-normal);\n}\n\n.cart-page__content {\n  display: grid;\n  grid-template-columns: 1fr 350px;\n  gap: 30px;\n  margin-top: 40px;\n}\n\n@media (max-width: 992px) {\n  .cart-page__content {\n    grid-template-columns: 1fr;\n  }\n}\n\n.cart-page__items {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.cart-page__continue-shopping {\n  margin-top: 30px;\n  text-align: left;\n}\n\n.cart-page__continue-link {\n  color: var(--color-text);\n  text-decoration: none;\n  font-weight: 500;\n  transition: color var(--transition-fast);\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.cart-page__continue-link:hover {\n  color: var(--color-primary);\n}\n\n/* Стили для элемента корзины */\n.cart-item {\n  display: flex;\n  padding: 20px;\n  border-radius: var(--border-radius-lg);\n  background-color: var(--color-card-background);\n  border: 1px solid var(--color-border);\n  box-shadow: var(--shadow-md);\n  transition: all var(--transition-normal);\n}\n\n.cart-item:hover {\n  box-shadow: var(--shadow-lg);\n  transform: translateY(-2px);\n}\n\n.cart-item__product {\n  flex: 1;\n}\n\n.cart-item__controls {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-end;\n  gap: 15px;\n  margin-left: 20px;\n}\n\n.cart-item__quantity {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 10px;\n}\n\n.cart-item__quantity-btn {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30px;\n  height: 30px;\n  border: 1px solid var(--color-border);\n  border-radius: 50%;\n  background-color: var(--color-card-background);\n  color: var(--color-text);\n  font-size: 16px;\n  cursor: pointer;\n  transition: all var(--transition-fast);\n}\n\n.cart-item__quantity-btn:hover {\n  background-color: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n\n.cart-item__quantity-value {\n  font-weight: 600;\n  font-size: 18px;\n  min-width: 30px;\n  text-align: center;\n  color: var(--color-text);\n}\n\n.cart-item__total {\n  font-weight: 600;\n  font-size: 18px;\n  color: var(--color-primary);\n}\n\n.cart-item__remove {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30px;\n  height: 30px;\n  border: none;\n  background-color: transparent;\n  color: var(--color-text-light);\n  cursor: pointer;\n  transition: color var(--transition-fast);\n  font-size: 18px;\n}\n\n.cart-item__remove:hover {\n  color: var(--color-error);\n}\n\n/* Стили для карточки товара в корзине */\n.product-card--in-cart {\n  padding: 0;\n  box-shadow: none;\n  background-color: transparent;\n}\n\n.product-card--in-cart .product-card__link {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  color: var(--color-text);\n}\n\n.product-card--in-cart .product-card__image-container {\n  width: 80px;\n  height: 80px;\n  flex-shrink: 0;\n  border-radius: var(--border-radius);\n  overflow: hidden;\n  background-color: var(--color-card-background);\n  margin-inline-start: var(--spacing-sm);\n}\n\n.product-card--in-cart .product-card__name {\n  font-size: 16px;\n  margin-bottom: 5px;\n  color: var(--color-text);\n}\n\n.product-card--in-cart .product-card__price {\n  font-size: 16px;\n  color: var(--color-primary);\n}\n\n/* Стили для боковой панели с суммой заказа */\n.cart-page__sidebar {\n  position: sticky;\n  top: 30px;\n}\n\n.cart-summary {\n  padding: 25px;\n  border-radius: var(--border-radius-lg);\n  background-color: var(--color-card-background);\n  border: 1px solid var(--color-border);\n  box-shadow: var(--shadow-md);\n  transition: all var(--transition-normal);\n}\n\n.cart-summary__title {\n  font-size: 18px;\n  font-weight: 600;\n  margin-bottom: 20px;\n  color: var(--color-text);\n}\n\n.cart-summary__row {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 15px;\n}\n\n.cart-summary__label {\n  color: var(--color-text-light);\n}\n\n.cart-summary__value {\n  font-weight: 600;\n  color: var(--color-text);\n}\n\n.cart-summary__row--discount .cart-summary__value {\n  color: var(--color-success);\n}\n\n.cart-summary__row--total {\n  font-size: 18px;\n  margin-top: 5px;\n  margin-bottom: 25px;\n}\n\n.cart-summary__row--total .cart-summary__label,\n.cart-summary__row--total .cart-summary__value {\n  font-weight: 700;\n  color: var(--color-text);\n}\n\n.cart-summary__divider {\n  margin: 20px 0;\n  height: 1px;\n  background-color: var(--color-border);\n}\n\n.cart-summary__promo {\n  display: flex;\n  margin-bottom: 20px;\n  gap: 10px;\n}\n\n.cart-summary__promo-input {\n  flex: 1;\n  padding: 10px 15px;\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius);\n  background-color: var(--color-card-background);\n  color: var(--color-text);\n  transition: border-color var(--transition-fast);\n}\n\n.cart-summary__promo-input:focus {\n  border-color: var(--color-primary);\n  outline: none;\n}\n\n.cart-summary__checkout-btn {\n  width: 100%;\n  padding: 12px;\n  font-size: 16px;\n}\n\n/* Стили для блока помощи */\n.cart-help {\n  margin-top: 20px;\n  padding: 20px;\n  border-radius: var(--border-radius-lg);\n  background-color: var(--color-card-background);\n  border: 1px solid var(--color-border);\n  box-shadow: var(--shadow-md);\n  text-align: center;\n  transition: all var(--transition-normal);\n}\n\n.cart-help__text {\n  color: var(--color-text);\n  margin-bottom: 10px;\n}\n\n.cart-help__phone {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  color: var(--color-primary);\n  font-weight: 600;\n  text-decoration: none;\n  padding: 8px 16px;\n  border-radius: var(--border-radius);\n  transition: all var(--transition-fast);\n}\n\n.cart-help__phone:hover {\n  background-color: var(--color-background-light);\n}\n\n/* Стили для пустой корзины */\n.cart-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 60px 20px;\n  border-radius: var(--border-radius-lg);\n  background-color: var(--color-card-background);\n  border: 1px solid var(--color-border);\n  box-shadow: var(--shadow-md);\n  margin: 40px auto;\n  max-width: 600px;\n  text-align: center;\n  transition: all var(--transition-normal);\n}\n\n.cart-empty__icon {\n  padding: 20px;\n  border-radius: 50%;\n  margin-bottom: 20px;\n  background-color: var(--color-background-light);\n  color: var(--color-primary);\n}\n\n.cart-empty__message {\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 10px;\n  color: var(--color-text);\n}\n\n.cart-empty__submessage {\n  font-size: 16px;\n  margin-bottom: 30px;\n  color: var(--color-text-light);\n}\n\n.cart-empty__button {\n  min-width: 180px;\n}\n\n/* Стили для кнопок */\n.button {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px 20px;\n  border-radius: var(--border-radius);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  border: none;\n  text-decoration: none;\n}\n\n.button--primary {\n  background-color: var(--color-primary);\n  color: white;\n}\n\n.button--primary:hover {\n  filter: brightness(1.05);\n  transform: translateY(-1px);\n}\n\n.button--outline {\n  background-color: transparent;\n  border: 1px solid var(--color-primary);\n  color: var(--color-primary);\n}\n\n.button--outline:hover {\n  background-color: var(--color-background-light);\n}\n\n/* Стили для заголовков */\n.section-title {\n  font-family: var(--font-family-secondary);\n  color: var(--color-text);\n  font-weight: 600;\n}\n\n.section-title--centered {\n  text-align: center;\n} ",""]);const i=c},7365:(n,r,a)=>{a.r(r),a.d(r,{default:()=>N});var t=a(4848),o=a(6540),e=a(4976),c=a(2896),i=a(7119),s=a(7735),l=a(6398),d=a(5072),m=a.n(d),p=a(7825),u=a.n(p),x=a(7659),_=a.n(x),g=a(5056),b=a.n(g),h=a(540),v=a.n(h),y=a(1113),f=a.n(y),j=a(5348),k={};k.styleTagTransform=f(),k.setAttributes=b(),k.insert=_().bind(null,"head"),k.domAPI=u(),k.insertStyleElement=v();m()(j.A,k);j.A&&j.A.locals&&j.A.locals;const N=function(){var n=(0,c.d4)((function(n){return n.cart})).items,r=(0,c.wA)(),a=(0,o.useState)(""),d=a[0],m=a[1],p=(0,o.useState)(!1),u=p[0],x=p[1],_=(0,o.useState)(0),g=_[0],b=_[1],h=(0,o.useCallback)((function(n,a){r(a<1?(0,i.dt)(n):(0,i.RO)({id:n,quantity:a}))}),[r]),v=(0,o.useCallback)((function(n){r((0,i.dt)(n))}),[r]),y=(0,o.useCallback)((function(){"DISCOUNT"===d.toUpperCase()?(x(!0),b(500)):alert("Промокод недействителен")}),[d]),f=(0,o.useCallback)((function(n,r){h(n,r-1)}),[h]),j=(0,o.useCallback)((function(n,r){h(n,r+1)}),[h]),k=(0,o.useMemo)((function(){var r=n.reduce((function(n,r){return n+r.price*r.quantity}),0);return{subtotal:r,deliveryCost:500,total:r+500-g}}),[n,g]),N=k.subtotal,w=k.deliveryCost,C=k.total,z=(0,o.useCallback)((function(n){return n.toLocaleString("ru-RU")+" ₽"}),[]);return(0,t.jsx)("div",{className:"cart-page",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h1",{className:"section-title section-title--centered",children:"Корзина"}),n.length>0?(0,t.jsxs)("div",{className:"cart-page__content",children:[(0,t.jsx)("div",{className:"cart-page__items",children:n.map((function(n){return(0,t.jsxs)("div",{className:"cart-item",children:[(0,t.jsx)("div",{className:"cart-item__product",children:(0,t.jsx)(l.A,{id:n.id.toString(),name:n.name,price:n.price,image:n.image,inCart:!0})}),(0,t.jsxs)("div",{className:"cart-item__controls",children:[(0,t.jsxs)("div",{className:"cart-item__quantity",children:[(0,t.jsx)("button",{className:"cart-item__quantity-btn",onClick:function(){return f(n.id,n.quantity)},"aria-label":"Уменьшить количество",children:"—"}),(0,t.jsx)("span",{className:"cart-item__quantity-value",children:n.quantity}),(0,t.jsx)("button",{className:"cart-item__quantity-btn",onClick:function(){return j(n.id,n.quantity)},"aria-label":"Увеличить количество",children:"+"})]}),(0,t.jsx)("div",{className:"cart-item__total",children:z(n.price*n.quantity)}),(0,t.jsx)("button",{className:"cart-item__remove",onClick:function(){return v(n.id)},"aria-label":"Удалить товар",children:(0,t.jsx)(s.A,{name:"check",size:14})})]})]},n.id)}))}),(0,t.jsxs)("div",{className:"cart-page__sidebar",children:[(0,t.jsxs)("div",{className:"cart-summary",children:[(0,t.jsx)("h2",{className:"section-title cart-summary__title",children:"Сумма заказа"}),(0,t.jsxs)("div",{className:"cart-summary__row",children:[(0,t.jsx)("span",{className:"cart-summary__label",children:"Товары"}),(0,t.jsx)("span",{className:"cart-summary__value",children:z(N)})]}),(0,t.jsxs)("div",{className:"cart-summary__row",children:[(0,t.jsx)("span",{className:"cart-summary__label",children:"Доставка"}),(0,t.jsx)("span",{className:"cart-summary__value",children:z(w)})]}),u&&(0,t.jsxs)("div",{className:"cart-summary__row cart-summary__row--discount",children:[(0,t.jsx)("span",{className:"cart-summary__label",children:"Скидка"}),(0,t.jsxs)("span",{className:"cart-summary__value",children:["-",z(g)]})]}),(0,t.jsx)("div",{className:"divider-accent cart-summary__divider"}),(0,t.jsxs)("div",{className:"cart-summary__row cart-summary__row--total",children:[(0,t.jsx)("span",{className:"cart-summary__label",children:"Итого"}),(0,t.jsx)("span",{className:"cart-summary__value",children:z(C)})]}),(0,t.jsxs)("div",{className:"cart-summary__promo",children:[(0,t.jsx)("input",{type:"text",placeholder:"Введите промокод",value:d,onChange:function(n){return m(n.target.value)},className:"cart-summary__promo-input"}),(0,t.jsx)("button",{className:"button button--outline",onClick:y,children:"Применить"})]}),(0,t.jsx)(e.N_,{to:"/checkout",className:"button button--primary cart-summary__checkout-btn",children:"Оформить заказ"})]}),(0,t.jsxs)("div",{className:"cart-help",children:[(0,t.jsx)("p",{className:"cart-help__text",children:"Нужна помощь с заказом? Позвоните нам:"}),(0,t.jsxs)("a",{href:"tel:+79991234567",className:"cart-help__phone",children:[(0,t.jsx)(s.A,{name:"phone",size:16})," +7 (999) 123-45-67"]})]})]})]}):(0,t.jsx)("div",{className:"cart-page__empty",children:(0,t.jsxs)("div",{className:"cart-empty",children:[(0,t.jsx)("div",{className:"cart-empty__icon",children:(0,t.jsx)(s.A,{name:"cart",size:64})}),(0,t.jsx)("p",{className:"cart-empty__message",children:"Ваша корзина пуста"}),(0,t.jsx)("p",{className:"cart-empty__submessage",children:"Какой хороший день, чтобы подарить цветок"}),(0,t.jsx)(e.N_,{to:"/catalog",className:"button button--primary cart-empty__button",children:"Перейти в каталог"})]})}),(0,t.jsx)("div",{className:"cart-page__continue-shopping",children:(0,t.jsx)(e.N_,{to:"/catalog",className:"cart-page__continue-link",children:"← Продолжить покупки"})})]})})}}}]);