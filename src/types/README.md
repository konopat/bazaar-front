# Типы в проекте BAZAAR

В этой директории содержатся все типы, используемые в проекте BAZAAR. Типы логически сгруппированы по файлам для упрощения навигации и поддержки.

## Структура типов

### Общие компоненты (`common.ts`)
- `BazaarLogoProps` - Свойства для компонента логотипа
- `BlogPostCardProps` - Свойства для карточки блога
- `SearchFieldProps` - Свойства для компонента поиска
- `SocialLinksProps` - Свойства для компонента социальных ссылок
- `StoreAddressesProps` - Свойства для компонента адресов магазинов

### Компоненты иконок (`icon.ts`)
- `IconName` - Тип для имени иконки (перечисление доступных иконок)
- `IconProps` - Свойства для компонента иконки (имя, размер, цвет, класс)

### Компоненты изображений (`lazyImage.ts`)
- `LazyImageProps` - Свойства для компонента ленивой загрузки изображений

### Компоненты скелетона (`skeleton.ts`)
- `SkeletonProps` - Свойства для компонента загрузки (ширина, высота, скругление, класс, стиль)

### Компоненты модальных окон (`modal.ts`)
- `ModalProps` - Свойства для модального окна (открыто/закрыто, обработчик закрытия, заголовок, загрузка)

### Компоненты каталога и фильтров (`catalog.ts`)
- `AddToCartAnimationProps` - Свойства для анимации добавления в корзину
- `ColorFilterProps` - Свойства для фильтра по цветам
- `PriceFilterProps` - Свойства для фильтра по цене

### Компоненты коллекций (`collection.ts`)
- `CollectionProps` - Свойства для компонента коллекции
- `CollectionItemProps` - Свойства для элемента коллекции

### Компоненты продуктов (`product.ts`)
- `Product` - Базовый интерфейс для продукта (id, цена, изображение, описание)
- `ProductProps` - Свойства для компонента продукта
- `ProductCardProps` - Свойства для компонента карточки продукта
- `ProductDetailProps` - Свойства для компонента деталей продукта

### Компоненты для карт (`map.ts`)
- `Store` - Тип для данных магазина (id, имя, адрес, координаты, телефон, рабочие часы)
- `StoresListProps` - Свойства для списка магазинов (список магазинов, выбранный магазин, обработчик выбора)
- `StoreDetailsProps` - Свойства для детальной информации о магазине
- `StoresMapProps` - Свойства для карты магазинов (магазины, выбранный магазин, обработчики)
- `StoresModalProps` - Свойства для модального окна с картой

### Компоненты для макета (`layout.ts`)
- `NavItem` - Тип для элемента навигации (название, ссылка, дочерние элементы)
- `NavigationProps` - Свойства для компонента навигации (элементы, ориентация, обработчики)
- `SideMenuProps` - Свойства для компонента бокового меню (открыто/закрыто, обработчики)

### Компоненты для квиза (`quiz.ts`)
- `QuizStep` - Тип для шага в квизе
- `BudgetRange` - Тип для диапазона бюджета 
- `QuizFormData` - Данные формы квиза

### Компоненты для платежей (`payment.ts`)
- `PaymentMethod` - Тип для способа оплаты
- `PaymentFormData` - Данные формы оплаты
- `ContactFormData` - Данные формы контактов

## Примеры использования типов

### Импорт типов

Импортируйте типы непосредственно из директории `types`:

```typescript
import { ProductCardProps, IconName } from '../../types';
```

Или используйте точечные импорты для более специфических типов:

```typescript
import { LazyImageProps } from '../../types/lazyImage';
```

### Использование в компонентах

#### Пример использования типа `IconProps`:

```typescript
import { IconProps } from '../../types';

const Icon = ({ name, size = 24, color = 'currentColor', className = '' }: IconProps) => {
  // Реализация компонента
};
```

#### Пример использования типа `Store`:

```typescript
import { Store } from '../../types/map';

const StoreCard = ({ store }: { store: Store }) => {
  return (
    <div className="store-card">
      <h3>{store.name}</h3>
      <p>{store.address}</p>
      <a href={`tel:${store.phone}`}>{store.phone}</a>
    </div>
  );
};
```

#### Пример использования опциональных свойств:

```typescript
import { NavigationProps } from '../../types/layout';

const Navigation = ({ items, orientation = 'horizontal', className = '' }: NavigationProps) => {
  // Работа с опциональными пропсами
  const navItems = items || defaultItems;
  
  return (
    <nav className={`nav nav--${orientation} ${className}`}>
      {navItems.map(item => (/* ... */))}
    </nav>
  );
};
```

## Бизнес-сущности проекта

В проекте определены следующие основные бизнес-сущности:

### Продукт (`Product`)

Представляет товар в магазине:

```typescript
interface Product {
  id: string | number;
  price: number;
  image: string;
  description?: string;
  color?: string;
}
```

### Магазин (`Store`)

Представляет физический магазин:

```typescript
interface Store {
  id: string;
  name: string;
  address: string;
  coordinates: [number, number]; // [широта, долгота]
  phone?: string;
  workSchedule?: {
    monday: { open: string; close: string; dayOff: boolean };
    // другие дни недели...
  };
  photo?: string;
}
```

### Элемент навигации (`NavItem`) 

Представляет пункт меню навигации:

```typescript
interface NavItem {
  name: string;
  href: string;
  children?: NavItem[];
  isActive?: boolean;
  icon?: string;
}
```

## Лучшие практики типизации

1. **Используйте централизованное хранилище типов**
   - Все типы должны быть определены в этой директории
   - Не создавайте локальные типы в компонентах

2. **Документируйте типы с JSDoc**
   - Добавляйте описание к каждому интерфейсу и свойству
   - Указывайте назначение и ограничения типов

   ```typescript
   /**
    * Свойства для компонента иконки
    */
   export interface IconProps {
     /** Название иконки из предопределенного набора */
     name: IconName;
     /** Размер иконки в пикселях */
     size?: number;
     /** Цвет иконки (CSS color) */
     color?: string;
     /** Дополнительные CSS классы */
     className?: string;
   }
   ```

3. **Используйте строгую типизацию**
   - Избегайте использования `any` где это возможно
   - Используйте union-типы вместо `any`

   ```typescript
   // Вместо any
   type Size = 'small' | 'medium' | 'large';
   ```

4. **Делайте свойства опциональными явно**
   - Используйте `?` для обозначения опциональных свойств
   - Добавляйте значения по умолчанию в компоненты

   ```typescript
   interface ButtonProps {
     label: string; // обязательное свойство
     variant?: 'primary' | 'secondary'; // опциональное свойство
   }
   ```

5. **Экспортируйте все типы**
   - Каждый тип должен быть доступен для импорта
   - Обновляйте `index.ts` при добавлении новых файлов

## Добавление новых типов

При добавлении новых компонентов следуйте этим правилам:

1. **Определите типы в соответствующем файле** - выберите подходящий файл или создайте новый, если типы относятся к новой функциональности
2. **Добавьте JSDoc комментарии** - опишите назначение типа и его свойств
3. **Экспортируйте тип** - убедитесь, что тип экспортируется
4. **Обновите индексный файл** - добавьте новый файл в `index.ts`, если создали новый файл
5. **Обновите README.md** - добавьте информацию о новом типе в этот файл

## Связь между файлами типов

При проектировании типов учитывайте существующие связи между компонентами:

1. **Избегайте циклических зависимостей** между файлами типов
2. **Группируйте связанные типы** в одном файле
3. **Используйте типы из базовых файлов** в более специализированных типах

Например, если тип `Product` используется в `ProductCardProps`, они должны быть определены в одном файле или `Product` должен быть импортирован из базового файла.

## Обновление типов

При изменении существующих типов:

1. **Проверьте все места использования** типа
2. **Обновите документацию** для отражения изменений
3. **Обновите примеры использования** в этом файле
4. **Запустите проверку типов** для выявления возможных ошибок

```bash
npm run type-check
``` 