"use strict";(self.webpackChunkbazaar_front=self.webpackChunkbazaar_front||[]).push([[398],{2114:(n,e,a)=>{a.d(e,{A:()=>y});var t=a(4848),o=a(6540),i=a(961),r=a(5072),c=a.n(r),l=a(7825),d=a.n(l),s=a(7659),m=a.n(s),u=a(5056),p=a.n(u),h=a(540),g=a.n(h),_=a(1113),f=a.n(_),v=a(3120),x={};x.styleTagTransform=f(),x.setAttributes=p(),x.insert=m().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=g();c()(v.A,x);v.A&&v.A.locals&&v.A.locals;var b=a(6905);const y=function(n){var e=n.isOpen,a=n.onClose,r=n.children,c=n.title,l=n.isLoading,d=void 0!==l&&l,s=n.skeletonConfig,m=void 0===s?{count:3,height:"2rem",spacing:"1rem"}:s,u=(0,o.useRef)(null),p=(0,o.useState)(!1),h=p[0],g=p[1],_=(0,o.useState)(!1),f=_[0],v=_[1],x=document.body.classList.contains("theme-dark"),y=(0,o.useCallback)((function(){g(!0),v(!1),setTimeout((function(){g(!1),a()}),300)}),[a]);(0,o.useEffect)((function(){if(e){var n=setTimeout((function(){v(!0)}),150);return function(){return clearTimeout(n)}}}),[e]),(0,o.useEffect)((function(){var n=function(n){"Escape"===n.key&&y()};return e&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),function(){document.removeEventListener("keydown",n),document.body.style.overflow=""}}),[e,y]);var k=(0,o.useMemo)((function(){if(!d)return null;for(var n=m.count,e=void 0===n?3:n,a=m.height,o=void 0===a?"2rem":a,i=m.spacing,r=void 0===i?"1rem":i,c=[],l=0;l<e;l++)c.push((0,t.jsx)("div",{style:{marginBottom:"number"==typeof r?"".concat(r,"px"):r},children:(0,t.jsx)(b.A,{height:o})},l));return c}),[d,m]);if(!e&&!h)return null;var j=x?"modal theme-dark":"modal",N=(0,t.jsx)("div",{className:"modal-overlay ".concat(h?"modal-overlay--closing":""),onClick:function(n){n.target===n.currentTarget&&y()},children:(0,t.jsxs)("div",{className:"".concat(j," ").concat(h?"modal--closing":""),ref:u,children:[(0,t.jsxs)("div",{className:"modal__header",children:[c&&(0,t.jsx)("h2",{className:"modal__title fashion-heading",children:c}),(0,t.jsx)("button",{className:"modal__close",onClick:y,"aria-label":"Закрыть",children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,t.jsx)("div",{className:"modal__content ".concat(f?"modal__content--visible":""),children:d?(0,t.jsx)("div",{className:"modal__skeleton-container",children:k}):r})]})});return(0,i.createPortal)(N,document.body)}},3120:(n,e,a)=>{a.d(e,{A:()=>c});var t=a(1601),o=a.n(t),i=a(6314),r=a.n(i)()(o());r.push([n.id,'.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  animation: modalFadeIn 0.3s ease-in-out;\n  padding: 20px;\n}\n\n.modal-overlay--closing {\n  animation: modalFadeOut 0.3s ease-in-out forwards;\n}\n\n.modal {\n  background: var(--color-background);\n  border-radius: var(--border-radius);\n  padding: 24px;\n  width: 90vw;\n  max-width: 900px;\n  max-height: 90vh;\n  overflow-y: auto;\n  position: relative;\n  box-shadow: var(--shadow-md);\n  animation: modalSlideIn 0.3s ease-in-out;\n  display: flex;\n  flex-direction: column;\n}\n\n:root[data-theme="dark"] .modal, \nhtml[data-theme="dark"] .modal, \nbody[data-theme="dark"] .modal {\n  background: #121212;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n}\n\n.modal--closing {\n  animation: modalSlideOut 0.3s ease-in-out forwards;\n}\n\n.modal__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  flex-shrink: 0;\n}\n\n.modal__title {\n  font-family: var(--font-family-secondary);\n  font-size: var(--font-size-2xl);\n  color: var(--color-text);\n  margin: 0;\n  position: relative;\n}\n\n:root[data-theme="dark"] .modal__title, \nhtml[data-theme="dark"] .modal__title, \nbody[data-theme="dark"] .modal__title {\n  color: #F4E8DD;\n}\n\n.modal__title::after {\n  content: \'\';\n  position: absolute;\n  bottom: -8px;\n  left: 0;\n  width: 50px;\n  height: 2px;\n  background: var(--gradient-primary);\n}\n\n.modal__close {\n  background: none;\n  border: none;\n  padding: 12px;\n  margin: -12px;\n  cursor: pointer;\n  color: var(--color-text);\n  transition: color var(--transition-normal);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n:root[data-theme="dark"] .modal__close, \nhtml[data-theme="dark"] .modal__close, \nbody[data-theme="dark"] .modal__close {\n  color: #F4E8DD;\n}\n\n.modal__close:hover {\n  color: var(--color-primary);\n}\n\n.modal__close svg {\n  fill: currentColor;\n}\n\n.modal__content {\n  color: var(--color-text);\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 200px;\n  opacity: 0;\n  transition: opacity 0.3s ease-in-out;\n  position: relative;\n}\n\n:root[data-theme="dark"] .modal__content, \nhtml[data-theme="dark"] .modal__content, \nbody[data-theme="dark"] .modal__content {\n  color: #F4E8DD;\n}\n\n.modal__content--visible {\n  opacity: 1;\n}\n\n.modal__skeleton-container {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  min-height: 200px;\n}\n\n.modal__skeleton-container .skeleton-loader {\n  border-radius: var(--border-radius);\n}\n\n:root[data-theme="dark"] .modal__skeleton-container .skeleton-loader, \nhtml[data-theme="dark"] .modal__skeleton-container .skeleton-loader, \nbody[data-theme="dark"] .modal__skeleton-container .skeleton-loader {\n  background: linear-gradient(\n    90deg,\n    rgba(60, 60, 60, 1) 0%,\n    rgba(80, 80, 80, 1) 50%,\n    rgba(60, 60, 60, 1) 100%\n  );\n  background-size: 200% 100%;\n  animation: skeleton-loading 1.5s ease infinite;\n}\n\n@keyframes modalFadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes modalFadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n@keyframes modalSlideIn {\n  from {\n    transform: translateY(-20px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n@keyframes modalSlideOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(20px);\n    opacity: 0;\n  }\n}\n\n@media (max-width: 768px) {\n  .modal {\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n    border-radius: 0;\n  }\n} ',""]);const c=r},3285:(n,e,a)=>{a.d(e,{A:()=>y});var t=a(4848),o=a(6540),i=a(6905),r=a(5072),c=a.n(r),l=a(7825),d=a.n(l),s=a(7659),m=a.n(s),u=a(5056),p=a.n(u),h=a(540),g=a.n(h),_=a(1113),f=a.n(_),v=a(3474),x={};x.styleTagTransform=f(),x.setAttributes=p(),x.insert=m().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=g();c()(v.A,x);v.A&&v.A.locals&&v.A.locals;var b=function(){return b=Object.assign||function(n){for(var e,a=1,t=arguments.length;a<t;a++)for(var o in e=arguments[a])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},b.apply(this,arguments)};const y=function(n){var e=n.src,a=n.alt,r=n.fallbackSrc,c=void 0===r?"/images/placeholder.png":r,l=n.className,d=void 0===l?"":l,s=n.containerClassName,m=void 0===s?"":s,u=n.objectFit,p=void 0===u?"contain":u,h=n.width,g=void 0===h?"100%":h,_=n.height,f=void 0===_?"100%":_,v=n.aspectRatio,x=(0,o.useState)(!0),y=x[0],k=x[1],j=(0,o.useState)(!1),N=j[0],w=j[1],z=(0,o.useRef)(null);(0,o.useEffect)((function(){k(!0),w(!1),z.current&&z.current.complete&&k(!1)}),[e]);var A=v?{position:"relative",width:g,height:0,paddingBottom:"".concat(1/v*100,"%")}:{width:g,height:f},C=b({objectFit:p},v?{position:"absolute",top:0,left:0,width:"100%",height:"100%"}:{});return(0,t.jsxs)("div",{className:"lazy-image__container ".concat(m),style:A,children:[y&&(0,t.jsx)("div",{className:"lazy-image__skeleton",style:v?{position:"absolute",top:0,left:0,width:"100%",height:"100%"}:{},children:(0,t.jsx)(i.A,{width:"100%",height:"100%",className:"lazy-image__skeleton-animation"})}),(0,t.jsx)("img",{ref:z,className:"lazy-image__img ".concat(d," ").concat(y?"lazy-image__img--hidden":""),src:N?c:e,alt:a,onLoad:function(){k(!1)},onError:function(){k(!1),w(!0)},style:C})]})}},3474:(n,e,a)=>{a.d(e,{A:()=>c});var t=a(1601),o=a.n(t),i=a(6314),r=a.n(i)()(o());r.push([n.id,"/* Стили для компонента LazyImage */\n\n.lazy-image__container {\n  position: relative;\n  overflow: hidden;\n  display: block;\n  background-color: var(--color-skeleton-start);\n  border-radius: var(--border-radius, 8px);\n}\n\n.lazy-image__skeleton {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  border-radius: inherit;\n}\n\n.lazy-image__skeleton-animation {\n  background: linear-gradient(\n    90deg,\n    var(--color-skeleton-start),\n    var(--color-skeleton-end),\n    var(--color-skeleton-start)\n  );\n  background-size: 200% 100%;\n  animation: skeleton-loading 1.5s infinite;\n  height: 100%;\n  width: 100%;\n}\n\n.lazy-image__img {\n  display: block;\n  width: 100%;\n  height: 100%;\n  transition: opacity 0.2s ease-in-out;\n  position: relative;\n  z-index: 2;\n}\n\n.lazy-image__img--hidden {\n  opacity: 0;\n}\n\n@keyframes skeleton-loading {\n  0% {\n    background-position: -100% 0;\n  }\n  100% {\n    background-position: 100% 0;\n  }\n}\n\n/* Специальные стили для темной темы */\n.theme-dark .lazy-image__container {\n  background-color: var(--color-background-dark);\n}\n\n.theme-dark .lazy-image__skeleton-animation {\n  background: linear-gradient(\n    90deg,\n    var(--color-skeleton-start-dark),\n    var(--color-skeleton-end-dark),\n    var(--color-skeleton-start-dark)\n  );\n  background-size: 200% 100%;\n  animation: skeleton-loading 1.5s infinite;\n}\n\n@keyframes skeleton-loading-dark {\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n}\n\n/* Варианты соотношения сторон */\n.lazy-image-container--square {\n  aspect-ratio: 1/1;\n}\n\n.lazy-image-container--4x3 {\n  aspect-ratio: 4/3;\n}\n\n.lazy-image-container--16x9 {\n  aspect-ratio: 16/9;\n}\n\n.lazy-image-container--3x4 {\n  aspect-ratio: 3/4;\n}\n\n.lazy-image-container--2x3 {\n  aspect-ratio: 2/3;\n}\n\n/* Различные object-fit преднастройки */\n.lazy-image--cover {\n  object-fit: cover;\n}\n\n.lazy-image--contain {\n  object-fit: contain;\n}\n\n.lazy-image--fill {\n  object-fit: fill;\n}\n\n/* Модификаторы для эффектов при наведении */\n.lazy-image--zoom:hover {\n  transform: scale(1.1);\n}\n\n.lazy-image--no-zoom:hover {\n  transform: none;\n}\n\n/* Улучшение производительности с помощью hardware acceleration */\n.lazy-image__img, \n.lazy-image__skeleton {\n  transform: translateZ(0);\n  backface-visibility: hidden;\n  will-change: opacity, transform;\n}\n\n/* Оптимизация для браузеров на базе WebKit */\n@supports (-webkit-overflow-scrolling: touch) {\n  .lazy-image__skeleton-animation {\n    /* Улучшение производительности на iOS */\n    -webkit-transform: translateZ(0);\n  }\n} ",""]);const c=r},4867:(n,e,a)=>{a.d(e,{A:()=>k});var t=a(4848),o=a(6540),i=a(961),r=a(5072),c=a.n(r),l=a(7825),d=a.n(l),s=a(7659),m=a.n(s),u=a(5056),p=a.n(u),h=a(540),g=a.n(h),_=a(1113),f=a.n(_),v=a(814),x={};x.styleTagTransform=f(),x.setAttributes=p(),x.insert=m().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=g();c()(v.A,x);v.A&&v.A.locals&&v.A.locals;var b=function(){return b=Object.assign||function(n){for(var e,a=1,t=arguments.length;a<t;a++)for(var o in e=arguments[a])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},b.apply(this,arguments)},y=function(n,e,a){if(a||2===arguments.length)for(var t,o=0,i=e.length;o<i;o++)!t&&o in e||(t||(t=Array.prototype.slice.call(e,0,o)),t[o]=e[o]);return n.concat(t||Array.prototype.slice.call(e))};const k=function(n){var e=n.productId,a=n.isVisible,r=n.onAnimationEnd,c=n.clickPosition,l=(0,o.useState)({}),d=l[0],s=l[1],m=(0,o.useState)(""),u=m[0],p=m[1],h=(0,o.useState)([]),g=h[0],_=h[1],f=(0,o.useRef)(null),v=(0,o.useRef)(!1),x=(0,o.useRef)(null),k=(0,o.useRef)(0),j=(0,o.useRef)({x:0,y:0});return(0,o.useEffect)((function(){if(!a)return s({}),_([]),v.current=!1,void(k.current=0);console.log("Animation triggered with clickPosition:",c);var n=document.querySelector(".cart-button");if(!n)return console.error("Не удалось найти кнопку корзины"),p("Ошибка: кнопка корзины не найдена"),void r();var e=n.getBoundingClientRect(),t=e.left+e.width/2,o=e.top+e.height/2;console.log("Cart button found:",{cartX:t,cartY:o});var i=c.x,l=c.y;if(j.current={x:i,y:l},s({position:"fixed",top:"".concat(l,"px"),left:"".concat(i,"px"),width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"var(--color-badge)",opacity:1,zIndex:999999999,boxShadow:"0 0 10px rgba(var(--color-accent-rgb), 0.7)"}),!x.current){var d=document.createElement("div");d.id="animation-portal",document.body.appendChild(d),x.current=d}var m=setTimeout((function(){if(a){v.current=!0;for(var e=350,c=[],d=0;d<30;d++){var u=d/29,p=(Math.sin(Math.PI*u),i+(t-i)*u),h=l+(o-l)*u-30*Math.sin(Math.PI*u);c.push({x:p,y:h})}s((function(n){return b(b({},n),{top:"".concat(o,"px"),left:"".concat(t,"px"),transition:"all ".concat(e,"ms cubic-bezier(0.25, 0.1, 0.25, 1.0)"),transform:"scale(0.1)",opacity:.5})}));var g=function(n){var t=58.333333333333336*n;setTimeout((function(){if(a){var o=t/e*.8,i=Math.floor(o*c.length),r=c[Math.min(i,c.length-1)];_((function(e){var a={id:Date.now()+Math.random(),style:{position:"fixed",top:"".concat(r.y,"px"),left:"".concat(r.x,"px"),width:"16px",height:"16px",opacity:0,transform:"scale(0)",animation:"dot-appear 300ms forwards",zIndex:999999990-n}};return y(y([],e,!0),[a],!1).slice(-5)}))}}),t)};for(d=1;d<=5;d++)g(d);console.log("Animation started towards cart:",{cartX:t,cartY:o});var f=setTimeout((function(){n.classList.add("cart-flash"),setTimeout((function(){n.classList.remove("cart-flash")}),300),console.log("Cart flash triggered")}),e),x=setTimeout((function(){r(),console.log("Animation completed")}),650);return function(){clearTimeout(m),clearTimeout(f),clearTimeout(x)}}}),10);return function(){clearTimeout(m)}}),[a,e,r,c]),(0,o.useEffect)((function(){return function(){if(x.current&&document.body.contains(x.current))try{document.body.removeChild(x.current),x.current=null}catch(n){console.error("Ошибка при удалении портала:",n)}}}),[]),i.createPortal((0,t.jsx)(t.Fragment,{children:a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{ref:f,className:"animation-circle",style:d}),g.map((function(n){return(0,t.jsx)("div",{className:"animation-trail-dot",style:n.style},n.id)})),u&&(0,t.jsx)("div",{style:{position:"fixed",top:"20px",left:"20px",backgroundColor:"rgba(0,0,0,0.8)",color:"white",padding:"10px",zIndex:999999,maxWidth:"300px"},children:u})]})}),document.body)}},6398:(n,e,a)=>{a.d(e,{A:()=>p});var t=a(4848),o=a(6540),i=a(2896),r=a(7119),c=a(3285),l=a(2114),d=a(4976),s=a(7735);const m=function(n){var e=n.id,a=n.title,l=n.price,m=n.image,u=n.description,p=void 0===u?"Прекрасный букет из свежих цветов":u,h=n.color,g=void 0===h?"разноцветный":h,_=(0,i.wA)(),f=(0,o.useState)(!1),v=f[0],x=f[1],b=(0,o.useCallback)((function(){_((0,r.bE)({id:e,name:a,price:l,quantity:1,image:m}))}),[_,e,a,l,m]),y=(0,o.useCallback)((function(){x(!v)}),[v]);return(0,t.jsx)("div",{className:"product-detail",children:(0,t.jsxs)("div",{className:"product-detail__container",children:[(0,t.jsx)("div",{className:"product-detail__gallery",children:(0,t.jsx)("div",{className:"product-detail__image-wrapper",children:(0,t.jsx)(c.A,{src:m,alt:a,fallbackSrc:"/images/product-placeholder.jpg",className:"product-detail__image",objectFit:"cover"})})}),(0,t.jsxs)("div",{className:"product-detail__info",children:[(0,t.jsx)("p",{className:"product-detail__description",children:p}),(0,t.jsx)("div",{className:"product-detail__price-container",children:(0,t.jsx)("span",{className:"product-detail__price",children:function(n){return n.toLocaleString("ru-RU")+" ₽"}(l)})}),(0,t.jsxs)("div",{className:"product-detail__actions",children:[(0,t.jsx)("button",{className:"button button--primary product-detail__add-to-cart",onClick:b,"data-product-id":e,"aria-label":"Добавить ".concat(a," в корзину"),children:"В корзину"}),(0,t.jsx)("button",{className:"product-detail__favorite ".concat(v?"active":""),onClick:y,"aria-label":v?"Удалить из избранного":"Добавить в избранное",children:(0,t.jsx)(s.A,{name:"heart",size:24})})]}),(0,t.jsxs)("div",{className:"product-detail__details",children:[(0,t.jsxs)("div",{className:"product-detail__detail-item",children:[(0,t.jsx)("span",{children:"Доставка:"}),(0,t.jsx)("span",{className:"product-detail__detail-value",children:"Бесплатно в пределах МКАД"})]}),(0,t.jsxs)("div",{className:"product-detail__detail-item",children:[(0,t.jsx)("span",{children:"Артикул:"}),(0,t.jsxs)("span",{className:"product-detail__detail-value",children:["BQ-",e.toString().padStart(4,"0")]})]}),(0,t.jsxs)("div",{className:"product-detail__detail-item",children:[(0,t.jsx)("span",{children:"Категория:"}),(0,t.jsx)("span",{className:"product-detail__detail-value",children:"Букеты"})]}),(0,t.jsxs)("div",{className:"product-detail__detail-item",children:[(0,t.jsx)("span",{children:"Цвет:"}),(0,t.jsx)("span",{className:"product-detail__detail-value",children:g})]})]}),(0,t.jsx)("div",{className:"divider-accent"}),(0,t.jsxs)("div",{className:"product-detail__delivery-info",children:[(0,t.jsxs)("div",{className:"product-detail__delivery-item",children:[(0,t.jsx)(s.A,{name:"truck",size:24}),(0,t.jsx)("span",{children:"Быстрая доставка в день заказа"})]}),(0,t.jsxs)("div",{className:"product-detail__delivery-item",children:[(0,t.jsx)(s.A,{name:"leaf",size:24}),(0,t.jsx)("span",{children:"Только свежие цветы"})]})]}),(0,t.jsx)("div",{className:"product-detail__link-container",children:(0,t.jsx)(d.N_,{to:"/products/".concat(e),className:"product-detail__link",children:"Перейти на страницу товара"})})]})]})})};var u=a(4867);const p=function(n){var e=n.id,a=n.price,d=n.image,s=n.description,p=n.color,h=n.title,g=n.name,_=n.oldPrice,f=n.category,v=n.isNew,x=void 0!==v&&v,b=n.isBestseller,y=void 0!==b&&b,k=n.isSpecialOffer,j=void 0!==k&&k,N=n.isHot,w=void 0!==N&&N,z=n.inCart,A=void 0!==z&&z,C=n.onClick,S=(0,i.wA)(),E=(0,o.useState)(!1),T=E[0],I=E[1],F=(0,o.useState)(!1),O=F[0],P=F[1],R=(0,o.useRef)(null),L=(0,o.useState)({x:0,y:0}),D=L[0],M=L[1],Y=h||g||"",B="string"==typeof e?parseInt(e):e,q=function(n){return n.toLocaleString("ru-RU")+" ₽"},X=(0,o.useCallback)((function(n){n.preventDefault(),n.stopPropagation(),M({x:n.clientX,y:n.clientY}),R.current&&(R.current.classList.add("clicked"),setTimeout((function(){var n;null===(n=R.current)||void 0===n||n.classList.remove("clicked")}),200)),P(!0),setTimeout((function(){S((0,r.bE)({id:B,name:Y,price:a,quantity:1,image:d}))}),400)}),[S,B,Y,a,d]),U=((0,o.useCallback)((function(n){n&&(n.preventDefault(),n.stopPropagation()),S((0,r.bE)({id:B,name:Y,price:a,quantity:1,image:d}))}),[S,B,Y,a,d]),(0,o.useCallback)((function(n){C?C():(n.preventDefault(),I(!0))}),[C])),V=(0,o.useCallback)((function(){I(!1)}),[]);return A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"product-card product-card--in-cart",children:(0,t.jsxs)("div",{className:"product-card__link",onClick:U,children:[(0,t.jsx)("div",{className:"product-card__image-container",children:(0,t.jsx)(c.A,{src:d,alt:Y,fallbackSrc:"/images/product-placeholder.jpg",containerClassName:"product-card__image-wrapper",className:"product-card__image",aspectRatio:1},"product-image-".concat(e))}),(0,t.jsxs)("div",{className:"product-card__content",children:[(0,t.jsx)("h3",{className:"product-card__name",children:Y}),(0,t.jsx)("div",{className:"product-card__price-container",children:(0,t.jsx)("span",{className:"product-card__price",children:q(a)})})]})]})}),(0,t.jsx)(l.A,{isOpen:T,onClose:V,title:Y,children:(0,t.jsx)(m,{id:B,title:Y,price:a,image:d,description:s,color:p})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"product-card",onClick:U,children:[w&&(0,t.jsx)("div",{className:"product-card__badge product-card__badge--hot",children:"Горячее предложение"}),j&&(0,t.jsx)("div",{className:"product-card__badge product-card__badge--special",children:"Специальное предложение"}),x&&(0,t.jsx)("div",{className:"product-card__badge product-card__badge--new",children:"Новинка"}),y&&(0,t.jsx)("div",{className:"product-card__badge product-card__badge--bestseller",children:"Хит"}),_&&(0,t.jsxs)("div",{className:"product-card__badge product-card__badge--sale",children:["-",Math.round(100*(1-a/_)),"%"]}),(0,t.jsx)("div",{className:"product-card__image",children:(0,t.jsx)(c.A,{src:d,alt:Y,fallbackSrc:"/images/product-placeholder.jpg",className:"product-card__image-content",containerClassName:"product-card__image-wrapper",objectFit:"cover",aspectRatio:1})}),(0,t.jsxs)("div",{className:"product-card__content",children:[f&&(0,t.jsx)("div",{className:"product-card__category",children:f}),(0,t.jsx)("h3",{className:"product-card__title",children:Y}),(0,t.jsxs)("div",{className:"product-card__price",children:[q(a),_&&(0,t.jsx)("span",{className:"product-card__old-price",children:q(_)})]}),(0,t.jsx)("button",{ref:R,className:"button button--primary product-card__button",onClick:X,"data-product-id":e,"aria-label":"Добавить ".concat(Y," в корзину"),id:"add-to-cart-".concat(e),children:"В корзину"})]}),O&&(0,t.jsx)(u.A,{productId:B,isVisible:O,onAnimationEnd:function(){return P(!1)},clickPosition:D})]}),(0,t.jsx)(l.A,{isOpen:T,onClose:V,title:Y,children:(0,t.jsx)(m,{id:B,title:Y,price:a,image:d,description:s,color:p})})]})}}}]);