"use strict";(self.webpackChunkbazaar_front=self.webpackChunkbazaar_front||[]).push([[350],{4350:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var i=n(4848),s=n(6540),c=n(4976),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},a.apply(this,arguments)},r=function(e,t,n,i){return new(n||(n=Promise))((function(s,c){function a(e){try{l(i.next(e))}catch(e){c(e)}}function r(e){try{l(i.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},l=function(e,t){var n,i,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=r(0),a.throw=r(1),a.return=r(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,r[0]&&(c=0)),c;)try{if(n=1,i&&(s=2&r[0]?i.return:r[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,r[1])).done)return s;switch(i=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(s=c.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],i=0}finally{n=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},o=[{id:1,title:"Бюджет"},{id:2,title:"Пожелания"},{id:3,title:"Контакты"}],u=[{id:"3000",label:"До 3 000"},{id:"5000",label:"До 5 000"},{id:"10000",label:"До 10 000"}];const d=function(){var e=(0,s.useState)(1),t=e[0],n=e[1],c=(0,s.useState)({budget:"",wishes:"",name:"",phone:""}),d=c[0],m=c[1],h=function(e){return 1===e||(2===e?""!==d.budget:3===e&&(""!==d.budget&&""!==d.wishes))},p=function(){n((function(e){return Math.max(1,e-1)}))};return(0,i.jsxs)("div",{className:"quiz",children:[(0,i.jsx)("h2",{className:"quiz__title",children:"Сложно определиться?"}),(0,i.jsx)("p",{children:"Укажите бюджет, повод или пожелания... и доверьтесь флористу!"}),(0,i.jsx)("div",{className:"quiz__steps",children:o.map((function(e){return(0,i.jsx)("div",{className:"quiz__step ".concat(t===e.id?"quiz__step--active":""," ").concat(h(e.id)?"quiz__step--available":""),onClick:function(){return i=e.id,void(h(i)&&i<=t&&n(i));var i},role:"button",tabIndex:h(e.id)?0:-1,"aria-current":t===e.id,"aria-disabled":!h(e.id),children:e.title},e.id)}))}),(0,i.jsxs)("div",{className:"quiz__content",children:[1===t&&(0,i.jsx)("div",{className:"quiz__budget",children:u.map((function(e){return(0,i.jsx)("button",{className:"button button--primary product-card__button",onClick:function(){return t=e.id,m(a(a({},d),{budget:t})),void n(2);var t},children:e.label},e.id)}))}),2===t&&(0,i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(3)},className:"quiz__wishes",children:[(0,i.jsx)("textarea",{className:"quiz__textarea",placeholder:"Опишите ваши пожелания...",value:d.wishes,onChange:function(e){return m(a(a({},d),{wishes:e.target.value}))},required:!0}),(0,i.jsxs)("div",{className:"quiz__buttons",children:[(0,i.jsx)("button",{type:"button",className:"button button--outline",onClick:p,children:"Назад"}),(0,i.jsx)("button",{type:"submit",className:"button button--primary",children:"Далее"})]})]}),3===t&&(0,i.jsxs)("form",{onSubmit:function(e){return r(void 0,void 0,void 0,(function(){return l(this,(function(t){return e.preventDefault(),console.log("Form submitted:",d),[2]}))}))},className:"quiz__contacts",children:[(0,i.jsx)("input",{type:"text",className:"quiz__input",placeholder:"Ваше имя",value:d.name,onChange:function(e){return m(a(a({},d),{name:e.target.value}))},required:!0}),(0,i.jsx)("input",{type:"tel",className:"quiz__input",placeholder:"Ваш телефон",value:d.phone,onChange:function(e){return m(a(a({},d),{phone:e.target.value}))},required:!0}),(0,i.jsxs)("div",{className:"quiz__buttons",children:[(0,i.jsx)("button",{type:"button",className:"button button--outline",onClick:p,children:"Назад"}),(0,i.jsx)("button",{type:"submit",className:"button button--primary",children:"Отправить"})]})]})]})]})};var m=n(2896),h=n(7119),p=n(4867),f=n(3285);const _=function(e){var t=e.id,n=e.title,a=e.price,r=e.image,l=e.isHot,o=(0,s.useState)(!1),u=o[0],d=o[1],_=(0,s.useState)({x:0,y:0}),b=_[0],x=_[1],j=(0,m.wA)(),v=(0,s.useRef)(null);return(0,i.jsxs)(c.N_,{to:"/products/".concat(t),className:"product-card",children:[l&&(0,i.jsx)("div",{className:"product-card__badge",children:"Горячее предложение"}),(0,i.jsx)("div",{className:"product-card__image",children:(0,i.jsx)(f.A,{src:r,alt:n,fallbackSrc:"/images/product-placeholder.jpg",className:"product-card__image-content",containerClassName:"product-card__image-wrapper",objectFit:"cover",aspectRatio:1},"special-offer-image-".concat(t))}),(0,i.jsxs)("div",{className:"product-card__content",children:[(0,i.jsx)("h3",{className:"product-card__title",children:n}),(0,i.jsxs)("div",{className:"product-card__price",children:[a," ₽"]}),(0,i.jsx)("button",{ref:v,className:"button button--primary product-card__button",onClick:function(e){e.preventDefault(),e.stopPropagation(),x({x:e.clientX,y:e.clientY}),v.current&&(v.current.classList.add("clicked"),setTimeout((function(){var e;null===(e=v.current)||void 0===e||e.classList.remove("clicked")}),200)),d(!0),setTimeout((function(){j((0,h.bE)({id:t,name:n,price:a,quantity:1,image:r}))}),400)},"data-product-id":t,"aria-label":"Добавить ".concat(n," в корзину"),id:"add-to-cart-special-".concat(t),children:"В корзину"})]}),(0,i.jsx)(p.A,{productId:t,isVisible:u,onAnimationEnd:function(){return d(!1)},clickPosition:b})]})};var b=n(7767),x=n(3057);const j=function(e){var t=e.products,n=(0,b.Zp)(),s=[{id:"cheap",title:"до ₽3000",filter:{min:0,max:3e3},items:t.filter((function(e){return e.price<=3e3})).slice(0,6)},{id:"medium",title:"до ₽5000",filter:{min:3e3,max:5e3},items:t.filter((function(e){return e.price>3e3&&e.price<=5e3})).slice(0,6)},{id:"expensive",title:"дороже ₽5000",filter:{min:5e3,max:null},items:t.filter((function(e){return e.price>5e3})).slice(0,6)}];return(0,i.jsxs)("section",{className:"collections",children:[(0,i.jsx)("h2",{className:"collections__title",children:"Коллекции по цене"}),(0,i.jsx)("p",{className:"collections__subtitle",children:"Подборки букетов в разных ценовых категориях, чтобы вы могли найти идеальный вариант для любого случая и бюджета"}),(0,i.jsx)("div",{className:"collections__grid",children:s.map((function(e){return(0,i.jsxs)("div",{className:"collection",children:[(0,i.jsx)("h3",{className:"collection__title",children:e.title}),(0,i.jsx)("div",{className:"collection__items",children:e.items.map((function(e){return(0,i.jsx)(x.A,{id:e.id,title:e.title,price:e.price,image:e.image},e.id)}))}),(0,i.jsx)("button",{className:"collection__button",onClick:function(){return t=e.filter,(i=new URLSearchParams).set("priceMin",t.min.toString()),t.max&&i.set("priceMax",t.max.toString()),void n("/catalog?".concat(i.toString()));var t,i},children:"Показать все"})]},e.id)}))})]})};var v=n(3785),N=[{id:1,title:"Экспресс-букет",description:"Уникальный сборный букет на вкус нашего флориста",price:1500,image:"/images/special/express.jpg"},{id:2,title:"Букет для учителя",description:"Большой букет, собранный специально к 1 сентября",price:3740,image:"/images/special/teacher.jpg",isHot:!0},{id:3,title:"Миллион алых роз",description:"Монобукет из роз. Сосчитаете сколько их на самом деле?",price:3900,image:"/images/special/roses.jpg"}],g=n(6578),y=n(6577),w=n(9170),k=function(){return k=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},k.apply(this,arguments)};const q=function(){var e=(0,s.useState)(null),t=(e[0],e[1],(0,s.useState)(null)),n=(t[0],t[1],(0,s.useState)(!1)),a=n[0],r=n[1],l=(0,s.useState)(!1),o=(l[0],l[1],(0,s.useState)(!1)),u=o[0],m=o[1],h=(0,s.useRef)(null),p=(0,s.useRef)(null),b=(0,s.useState)(""),x=(b[0],b[1],(0,s.useState)("asc"));x[0],x[1];(0,s.useEffect)((function(){var e=function(){if(h.current&&p.current){var e=h.current.getBoundingClientRect().top,t=p.current.getBoundingClientRect().top;window.innerWidth>1024&&r(e<=100&&t>window.innerHeight)}};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);return(0,i.jsxs)("main",{className:"home",children:[(0,i.jsx)("section",{className:"hero",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"hero__info",children:[(0,i.jsxs)("div",{className:"hero__stores",children:[(0,i.jsxs)("p",{className:"hero__stores-text",children:[w.ZZ.length," магазина в Иркутске – есть самовывоз"]}),(0,i.jsx)("button",{className:"hero__stores-button button--underline",onClick:function(){return m(!0)},children:"Показать адреса"})]}),(0,i.jsxs)("div",{className:"hero__contacts",children:[(0,i.jsx)("a",{href:"tel:".concat(w.NA),className:"hero__phone",children:w.NA}),(0,i.jsx)(g.A,{className:"social-links--end"})]})]}),(0,i.jsx)("h1",{className:"hero__title",children:"Доставка цветов в Иркутске"}),(0,i.jsx)("p",{className:"hero__subtitle",children:"Купите букет от 1 500 рублей"}),(0,i.jsx)(c.N_,{to:"/catalog",className:"button button--primary hero__button",children:"Открыть каталог"}),(0,i.jsx)("button",{className:"hero__scroll",onClick:function(){var e=document.querySelector(".special-offers");e&&e.scrollIntoView({behavior:"smooth"})},"aria-label":"Прокрутить вниз",children:(0,i.jsx)("svg",{className:"hero__scroll-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]})}),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"home__content",children:[(0,i.jsxs)("div",{className:"home__main",children:[(0,i.jsxs)("section",{className:"special-offers",children:[(0,i.jsx)("h2",{className:"section-title",children:"Специальные предложения"}),(0,i.jsx)("div",{className:"special-offers__grid",children:N.map((function(e){return(0,i.jsx)(_,k({},e),e.id)}))})]}),(0,i.jsx)(j,{products:v.Z})]}),(0,i.jsx)("aside",{className:"home__sidebar",ref:h,children:(0,i.jsxs)("article",{className:"adsblock ".concat(a?"sticky":""),children:[(0,i.jsx)("div",{className:"adsblock__image",children:(0,i.jsx)(f.A,{src:"/images/masterclass.jpg",alt:"Мастер-класс флористики",containerClassName:"adsblock__img-wrapper",className:"adsblock__img",objectFit:"cover",aspectRatio:1})}),(0,i.jsxs)("div",{className:"adsblock__content",children:[(0,i.jsx)("h3",{className:"adsblock__title",children:"Мастер-класс для начинающих флористов"}),(0,i.jsx)("p",{className:"adsblock__free",children:"БЕСПЛАТНО"}),(0,i.jsx)("button",{className:"button button--primary adsblock__button",children:"Хочу стать флористом"})]})]})})]}),(0,i.jsx)("section",{className:"quiz-section",ref:p,children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)(d,{})})})]}),(0,i.jsx)(y.A,{isOpen:u,onClose:function(){return m(!1)}})]})}}}]);