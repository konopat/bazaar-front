"use strict";(self.webpackChunkbazaar_front=self.webpackChunkbazaar_front||[]).push([[488],{9488:(e,l,n)=>{n.r(l),n.d(l,{default:()=>_});var c=n(4848),a=n(6540),i=n(4976),t=n(3785),r=n(3057),o=[{id:"red",name:"Красный",color:"#b22222"},{id:"pink",name:"Розовый",color:"#e6b3bf"},{id:"white",name:"Белый",color:"#f5f5dc"},{id:"yellow",name:"Желтый",color:"#f7dc6f"},{id:"purple",name:"Фиолетовый",color:"#8b458b"},{id:"blue",name:"Синий",color:"#4682b4"}];const s=function(e){var l=e.selectedColor,n=e.onColorSelect;return(0,c.jsxs)("div",{className:"color-filter",children:[(0,c.jsx)("h3",{className:"color-filter__title",children:"По цвету"}),(0,c.jsx)("div",{className:"color-filter__options",children:o.map((function(e){return(0,c.jsx)("button",{className:"color-filter__option ".concat(l===e.id?"color-filter__option--active":""),style:{backgroundColor:e.color},onClick:function(){return n(l===e.id?null:e.id)},title:e.name},e.id)}))})]})};var u=[{id:"3000",label:"до ₽3000",min:0,max:3e3},{id:"5000",label:"₽3000 - ₽5000",min:3e3,max:5e3},{id:"10000",label:"от ₽5000",min:5e3,max:null}];const d=function(e){var l=e.selectedPrice,n=e.onPriceSelect;return(0,c.jsxs)("div",{className:"price-filter",children:[(0,c.jsx)("h3",{className:"color-filter__title",children:"По цене"}),(0,c.jsx)("div",{className:"price-filter__options",children:u.map((function(e){return(0,c.jsx)("button",{className:"price-filter__option ".concat((null==l?void 0:l.min)===e.min&&(null==l?void 0:l.max)===e.max?"price-filter__option--active":""),onClick:function(){return n((null==l?void 0:l.min)===e.min&&(null==l?void 0:l.max)===e.max?null:{min:e.min,max:e.max})},children:e.label},e.id)}))})]})};var m=n(7767);const f=function(){var e=(0,m.zy)().pathname;(0,a.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[e])};const _=function(){f();var e=(0,i.ok)()[0],l=(0,a.useState)(null),n=l[0],o=l[1],u=(0,a.useState)(null),m=u[0],_=u[1],h=(0,a.useState)(""),x=h[0],p=h[1],v=(0,a.useState)("asc"),j=v[0],N=v[1];(0,a.useEffect)((function(){var l=e.get("priceMin"),n=e.get("priceMax");l&&_({min:parseInt(l),max:n?parseInt(n):null})}),[e]);var b,g,C,k=function(){o(null),_(null),p(""),N("asc")},w=(g=[],n&&g.push({id:"color",label:"Цвет: ".concat(n),onRemove:function(){return o(null)}}),m&&g.push({id:"price",label:"Цена: ".concat((b=m,null===b.max?"от ₽".concat(b.min):0===b.min?"до ₽".concat(b.max):"₽".concat(b.min," - ₽").concat(b.max))),onRemove:function(){return _(null)}}),x&&g.push({id:"search",label:"Поиск: ".concat(x),onRemove:function(){return p("")}}),"asc"!==j&&g.push({id:"sort",label:"Сначала дороже",onRemove:function(){return N("asc")}}),g),S=w.length>0;return(0,c.jsx)("div",{className:"catalog",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("div",{className:"catalog__header",children:[(0,c.jsx)("h1",{className:"catalog__title",children:"Каталог букетов"}),(0,c.jsx)("div",{className:"catalog__search",children:(0,c.jsx)("input",{type:"text",className:"catalog__search-input",placeholder:"Поиск букетов...",value:x,onChange:function(e){return p(e.target.value)}})})]}),S&&(0,c.jsxs)("div",{className:"catalog__active-filters",children:[w.map((function(e){return(0,c.jsxs)("button",{className:"catalog__filter-tag",onClick:e.onRemove,children:[e.label,(0,c.jsx)("span",{className:"catalog__filter-tag-remove",children:"×"})]},e.id)})),(0,c.jsx)("button",{className:"catalog__reset-all",onClick:k,children:"Сбросить все фильтры"})]}),(0,c.jsxs)("div",{className:"catalog__content",children:[(0,c.jsx)("aside",{className:"catalog__filters",children:(0,c.jsxs)("div",{className:"filters",children:[(0,c.jsx)("div",{className:"filters__section",children:(0,c.jsx)(s,{selectedColor:n,onColorSelect:o})}),(0,c.jsx)("div",{className:"filters__section",children:(0,c.jsx)(d,{selectedPrice:m,onPriceSelect:_})}),(0,c.jsxs)("div",{className:"filters__section",children:[(0,c.jsx)("h3",{className:"filters__title",children:"Сортировка"}),(0,c.jsxs)("select",{className:"catalog__sort-select",value:j,onChange:function(e){return N(e.target.value)},children:[(0,c.jsx)("option",{value:"asc",children:"Сначала дешевле"}),(0,c.jsx)("option",{value:"desc",children:"Сначала дороже"})]}),S&&(0,c.jsx)("button",{className:"catalog__reset",onClick:k,children:"Сбросить фильтры"})]})]})}),(0,c.jsx)("div",{className:"catalog__grid",children:(C=t.Z,m&&(C=C.filter((function(e){return e.price>=m.min&&(null===m.max||e.price<=m.max)}))),n&&(C=C.filter((function(e){return e.color===n}))),x&&(C=C.filter((function(e){return e.title.toLowerCase().includes(x.toLowerCase())}))),C.sort((function(e,l){return"asc"===j?e.price-l.price:l.price-e.price}))).map((function(e){return(0,c.jsx)(r.A,{id:e.id,title:e.title,price:e.price,image:e.image},e.id)}))})]})]})})}}}]);