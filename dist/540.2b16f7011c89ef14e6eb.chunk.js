"use strict";(self.webpackChunkbazaar_front=self.webpackChunkbazaar_front||[]).push([[540],{3285:(n,e,a)=>{a.d(e,{A:()=>k});var t=a(4848),i=a(6540),r=a(6905),o=a(5072),l=a.n(o),s=a(7825),c=a.n(s),d=a(7659),m=a.n(d),u=a(5056),h=a.n(u),g=a(540),p=a.n(g),v=a(1113),f=a.n(v),_=a(3474),b={};b.styleTagTransform=f(),b.setAttributes=h(),b.insert=m().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=p();l()(_.A,b);_.A&&_.A.locals&&_.A.locals;var x=function(){return x=Object.assign||function(n){for(var e,a=1,t=arguments.length;a<t;a++)for(var i in e=arguments[a])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},x.apply(this,arguments)};const k=function(n){var e=n.src,a=n.alt,o=n.fallbackSrc,l=void 0===o?"/images/placeholder.png":o,s=n.className,c=void 0===s?"":s,d=n.containerClassName,m=void 0===d?"":d,u=n.objectFit,h=void 0===u?"contain":u,g=n.width,p=void 0===g?"100%":g,v=n.height,f=void 0===v?"100%":v,_=n.aspectRatio,b=(0,i.useState)(!0),k=b[0],j=b[1],y=(0,i.useState)(!1),N=y[0],z=y[1];(0,i.useEffect)((function(){j(!0),z(!1)}),[e]);var w=_?{position:"relative",width:p,height:0,paddingBottom:"".concat(1/_*100,"%")}:{width:p,height:f},C=x({objectFit:h},_?{position:"absolute",top:0,left:0,width:"100%",height:"100%"}:{});return(0,t.jsxs)("div",{className:"lazy-image__container ".concat(m),style:w,children:[k&&(0,t.jsx)("div",{className:"lazy-image__skeleton",style:_?{position:"absolute",top:0,left:0,width:"100%",height:"100%"}:{},children:(0,t.jsx)(r.A,{width:"100%",height:"100%",className:"lazy-image__skeleton-animation"})}),(0,t.jsx)("img",{className:"lazy-image__img ".concat(c," ").concat(k?"lazy-image__img--hidden":""),src:N?l:e,alt:a,onLoad:function(){j(!1)},onError:function(){j(!1),z(!0)},style:C})]})}},3474:(n,e,a)=>{a.d(e,{A:()=>l});var t=a(1601),i=a.n(t),r=a(6314),o=a.n(r)()(i());o.push([n.id,"/* Стили для компонента LazyImage */\n\n.lazy-image__container {\n  position: relative;\n  overflow: hidden;\n  display: block;\n  background-color: var(--color-skeleton-start);\n  border-radius: var(--border-radius, 8px);\n}\n\n.lazy-image__skeleton {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  border-radius: inherit;\n}\n\n.lazy-image__skeleton-animation {\n  background: linear-gradient(\n    90deg,\n    var(--color-skeleton-start),\n    var(--color-skeleton-end),\n    var(--color-skeleton-start)\n  );\n  background-size: 200% 100%;\n  animation: skeleton-loading 1.5s infinite;\n  height: 100%;\n  width: 100%;\n}\n\n.lazy-image__img {\n  display: block;\n  width: 100%;\n  height: 100%;\n  transition: opacity 0.2s ease-in-out;\n  position: relative;\n  z-index: 2;\n}\n\n.lazy-image__img--hidden {\n  opacity: 0;\n}\n\n@keyframes skeleton-loading {\n  0% {\n    background-position: -100% 0;\n  }\n  100% {\n    background-position: 100% 0;\n  }\n}\n\n/* Специальные стили для темной темы */\n.theme-dark .lazy-image__container {\n  background-color: var(--color-background-dark);\n}\n\n.theme-dark .lazy-image__skeleton-animation {\n  background: linear-gradient(\n    90deg,\n    var(--color-skeleton-start-dark),\n    var(--color-skeleton-end-dark),\n    var(--color-skeleton-start-dark)\n  );\n  background-size: 200% 100%;\n  animation: skeleton-loading 1.5s infinite;\n}\n\n@keyframes skeleton-loading-dark {\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n}\n\n/* Варианты соотношения сторон */\n.lazy-image-container--square {\n  aspect-ratio: 1/1;\n}\n\n.lazy-image-container--4x3 {\n  aspect-ratio: 4/3;\n}\n\n.lazy-image-container--16x9 {\n  aspect-ratio: 16/9;\n}\n\n.lazy-image-container--3x4 {\n  aspect-ratio: 3/4;\n}\n\n.lazy-image-container--2x3 {\n  aspect-ratio: 2/3;\n}\n\n/* Различные object-fit преднастройки */\n.lazy-image--cover {\n  object-fit: cover;\n}\n\n.lazy-image--contain {\n  object-fit: contain;\n}\n\n.lazy-image--fill {\n  object-fit: fill;\n}\n\n/* Модификаторы для эффектов при наведении */\n.lazy-image--zoom:hover {\n  transform: scale(1.1);\n}\n\n.lazy-image--no-zoom:hover {\n  transform: none;\n}\n\n/* Улучшение производительности с помощью hardware acceleration */\n.lazy-image__img, \n.lazy-image__skeleton {\n  transform: translateZ(0);\n  backface-visibility: hidden;\n  will-change: opacity, transform;\n}\n\n/* Оптимизация для браузеров на базе WebKit */\n@supports (-webkit-overflow-scrolling: touch) {\n  .lazy-image__skeleton-animation {\n    /* Улучшение производительности на iOS */\n    -webkit-transform: translateZ(0);\n  }\n} ",""]);const l=o},4276:(n,e,a)=>{a.d(e,{A:()=>l});var t=a(1601),i=a.n(t),r=a(6314),o=a.n(r)()(i());o.push([n.id,"/* \n* Компонент: SearchField\n* Описание: Унифицированная поисковая строка для использования на разных страницах\n*/\n\n.search-field {\n  position: relative;\n  display: flex;\n  width: 100%;\n}\n\n.search-field__input {\n  width: 100%;\n  padding: var(--spacing-md) var(--spacing-md) var(--spacing-md) var(--spacing-xl);\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius);\n  font-size: var(--font-size-md);\n  background-color: var(--color-background-light);\n  color: var(--color-text);\n  transition: all var(--transition-normal);\n}\n\n.search-field__input:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: var(--shadow-sm);\n}\n\n.search-field__button {\n  position: absolute;\n  right: var(--spacing-md);\n  top: 50%;\n  transform: translateY(-50%);\n  background: none;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.search-field__button:hover {\n  color: var(--color-primary);\n}\n\n/* Темная тема */\n.theme-dark .search-field__input {\n  background-color: var(--color-card-background-dark);\n  border-color: var(--color-border-dark);\n  color: var(--color-text-dark);\n}\n\n.theme-dark .search-field__input:focus {\n  border-color: var(--color-primary-dark-theme);\n}\n\n.theme-dark .search-field__button {\n  color: var(--color-text-secondary-dark);\n}\n\n.theme-dark .search-field__button:hover {\n  color: var(--color-primary-dark-theme);\n}\n\n/* Адаптивность */\n@media (max-width: 768px) {\n  .search-field__input {\n    padding: var(--spacing-sm) var(--spacing-md) var(--spacing-sm) var(--spacing-xl);\n    font-size: var(--font-size-sm);\n  }\n} ",""]);const l=o},5812:(n,e,a)=>{a.d(e,{A:()=>b});var t=a(4848),i=a(7735),r=a(5072),o=a.n(r),l=a(7825),s=a.n(l),c=a(7659),d=a.n(c),m=a(5056),u=a.n(m),h=a(540),g=a.n(h),p=a(1113),v=a.n(p),f=a(4276),_={};_.styleTagTransform=v(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=g();o()(f.A,_);f.A&&f.A.locals&&f.A.locals;const b=function(n){var e=n.value,a=n.onChange,r=n.placeholder,o=void 0===r?"Поиск...":r,l=n.className,s=void 0===l?"":l;return(0,t.jsxs)("div",{className:"search-field ".concat(s),children:[(0,t.jsx)("input",{type:"text",className:"search-field__input",placeholder:o,value:e,onChange:a,"aria-label":o}),(0,t.jsx)("button",{className:"search-field__button","aria-label":"Искать",children:(0,t.jsx)(i.A,{name:"search",size:20})})]})}},9488:(n,e,a)=>{a.r(e),a.d(e,{default:()=>p});var t=a(4848),i=a(6540),r=a(4976),o=a(3785),l=a(3057),s=[{id:"red",name:"Красный",color:"#b22222"},{id:"pink",name:"Розовый",color:"#e6b3bf"},{id:"white",name:"Белый",color:"#f5f5dc"},{id:"yellow",name:"Желтый",color:"#f7dc6f"},{id:"purple",name:"Фиолетовый",color:"#8b458b"},{id:"blue",name:"Синий",color:"#4682b4"}];const c=function(n){var e=n.selectedColor,a=n.onColorSelect;return(0,t.jsx)("div",{className:"color-filter",children:(0,t.jsx)("div",{className:"color-filter__buttons",children:s.map((function(n){return(0,t.jsxs)("button",{className:"color-filter__button ".concat(e===n.id?"color-filter__button--active":""),onClick:function(){return a(e===n.id?null:n.id)},title:n.name,children:[(0,t.jsx)("span",{className:"color-filter__color-circle",style:{backgroundColor:n.color}}),(0,t.jsx)("span",{className:"color-filter__name",children:n.name})]},n.id)}))})})};var d=[{id:"3000",label:"до ₽3000",min:0,max:3e3},{id:"5000",label:"₽3000 - ₽5000",min:3e3,max:5e3},{id:"10000",label:"от ₽5000",min:5e3,max:null}];const m=function(n){var e,a,r=n.selectedPrice,o=n.onPriceSelect,l=(0,i.useState)((null===(e=null==r?void 0:r.min)||void 0===e?void 0:e.toString())||""),s=l[0],c=l[1],m=(0,i.useState)((null===(a=null==r?void 0:r.max)||void 0===a?void 0:a.toString())||""),u=m[0],h=m[1];return(0,t.jsxs)("div",{className:"price-filter",children:[(0,t.jsx)("div",{className:"filters__checkbox-group",children:d.map((function(n){return(0,t.jsxs)("label",{className:"filters__checkbox-label",children:[(0,t.jsx)("input",{type:"checkbox",className:"filters__checkbox-input",checked:(null==r?void 0:r.min)===n.min&&(null==r?void 0:r.max)===n.max,onChange:function(){return o((null==r?void 0:r.min)===n.min&&(null==r?void 0:r.max)===n.max?null:{min:n.min,max:n.max})}}),(0,t.jsx)("span",{className:"filters__checkbox-custom"}),n.label]},n.id)}))}),(0,t.jsxs)("div",{className:"filters__price-range",children:[(0,t.jsxs)("div",{className:"filters__price-inputs",children:[(0,t.jsx)("input",{type:"number",className:"filters__price-input",placeholder:"От",value:s,onChange:function(n){return c(n.target.value)}}),(0,t.jsx)("input",{type:"number",className:"filters__price-input",placeholder:"До",value:u,onChange:function(n){return h(n.target.value)}})]}),(0,t.jsx)("button",{className:"button button--outline button--small",onClick:function(){var n=parseInt(s)||0,e=u?parseInt(u):null;o({min:n,max:e})},style:{width:"100%"},children:"Применить"})]})]})};var u=a(5812),h=a(7767);const g=function(){var n=(0,h.zy)().pathname;(0,i.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[n])};const p=function(){g();var n=(0,r.ok)()[0],e=(0,i.useState)(null),a=e[0],s=e[1],d=(0,i.useState)(null),h=d[0],p=d[1],v=(0,i.useState)(""),f=v[0],_=v[1],b=(0,i.useState)("asc"),x=b[0],k=b[1];(0,i.useEffect)((function(){var e=n.get("priceMin"),a=n.get("priceMax");e&&p({min:parseInt(e),max:a?parseInt(a):null})}),[n]);var j,y,N,z=function(){s(null),p(null),_(""),k("asc")},w=(y=[],a&&y.push({id:"color",label:"Цвет: ".concat(a),onRemove:function(){return s(null)}}),h&&y.push({id:"price",label:"Цена: ".concat((j=h,null===j.max?"от ₽".concat(j.min):0===j.min?"до ₽".concat(j.max):"₽".concat(j.min," - ₽").concat(j.max))),onRemove:function(){return p(null)}}),f&&y.push({id:"search",label:"Поиск: ".concat(f),onRemove:function(){return _("")}}),y),C=w.length>0;return(0,t.jsx)("div",{className:"catalog",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"catalog__header",children:(0,t.jsx)("h1",{className:"catalog__title",children:"Каталог букетов"})}),(0,t.jsx)("div",{className:"catalog__search",children:(0,t.jsx)(u.A,{value:f,onChange:function(n){_(n.target.value)},placeholder:"Поиск букетов..."})}),C&&(0,t.jsxs)("div",{className:"catalog__active-filters",children:[w.map((function(n){return(0,t.jsxs)("button",{className:"catalog__filter-tag",onClick:n.onRemove,children:[n.label,(0,t.jsx)("span",{className:"catalog__filter-tag-remove",children:"×"})]},n.id)})),(0,t.jsx)("button",{className:"catalog__reset-all",onClick:z,children:"Сбросить все фильтры"})]}),(0,t.jsxs)("div",{className:"catalog__filter-sort-row",children:[(0,t.jsxs)("aside",{className:"catalog__filters",children:[(0,t.jsx)("h2",{className:"filters__title",children:"Фильтры"}),(0,t.jsxs)("div",{className:"filters",children:[(0,t.jsxs)("div",{className:"filters__section",children:[(0,t.jsx)("h3",{className:"filters__section-title",children:"Цвет"}),(0,t.jsx)(c,{selectedColor:a,onColorSelect:s})]}),(0,t.jsxs)("div",{className:"filters__section",children:[(0,t.jsx)("h3",{className:"filters__section-title",children:"Цена"}),(0,t.jsx)(m,{selectedPrice:h,onPriceSelect:p})]}),C&&(0,t.jsx)("button",{className:"catalog__reset",onClick:z,children:"Сбросить фильтры"})]})]}),(0,t.jsxs)("div",{className:"catalog__main-content",children:[(0,t.jsx)("div",{className:"catalog__sort-wrapper",children:(0,t.jsxs)("div",{className:"catalog__sort",children:[(0,t.jsx)("span",{className:"catalog__sort-label",children:"Сортировка:"}),(0,t.jsxs)("select",{className:"catalog__sort-select",value:x,onChange:function(n){return k(n.target.value)},children:[(0,t.jsx)("option",{value:"asc",children:"Сначала дешевле"}),(0,t.jsx)("option",{value:"desc",children:"Сначала дороже"})]})]})}),(0,t.jsx)("div",{className:"catalog__grid",children:(N=o.Z,h&&(N=N.filter((function(n){return n.price>=h.min&&(null===h.max||n.price<=h.max)}))),a&&(N=N.filter((function(n){return n.color===a}))),f&&(N=N.filter((function(n){return n.title.toLowerCase().includes(f.toLowerCase())}))),N.sort((function(n,e){return"asc"===x?n.price-e.price:e.price-n.price}))).map((function(n){return(0,t.jsx)(l.A,{id:n.id,title:n.title,price:n.price,image:n.image},n.id)}))})]})]})]})})}}}]);