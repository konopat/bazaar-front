"use strict";(self.webpackChunkbazaar_front=self.webpackChunkbazaar_front||[]).push([[350],{4350:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var i=n(4848),s=n(6540),r=n(4976),c=function(){return c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},c.apply(this,arguments)},a=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function c(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}l((i=i.apply(e,t||[])).next())}))},l=function(e,t){var n,i,s,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=a(0),c.throw=a(1),c.return=a(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(s=r.trys,(s=s.length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},o=[{id:1,title:"Бюджет"},{id:2,title:"Пожелания"},{id:3,title:"Контакты"}],u=[{id:"3000",label:"До 3 000"},{id:"5000",label:"До 5 000"},{id:"10000",label:"До 10 000"}];const d=function(){var e=(0,s.useState)(1),t=e[0],n=e[1],r=(0,s.useState)({budget:"",wishes:"",name:"",phone:""}),d=r[0],h=r[1],m=function(e){return 1===e||(2===e?""!==d.budget:3===e&&(""!==d.budget&&""!==d.wishes))},p=function(){n((function(e){return Math.max(1,e-1)}))};return(0,i.jsxs)("div",{className:"quiz",children:[(0,i.jsx)("h2",{className:"quiz__title",children:"Сложно определиться?"}),(0,i.jsx)("p",{children:"Укажите бюджет, повод или пожелания... и доверьтесь флористу!"}),(0,i.jsx)("div",{className:"quiz__steps",children:o.map((function(e){return(0,i.jsx)("div",{className:"quiz__step ".concat(t===e.id?"quiz__step--active":""," ").concat(m(e.id)?"quiz__step--available":""),onClick:function(){return i=e.id,void(m(i)&&i<=t&&n(i));var i},role:"button",tabIndex:m(e.id)?0:-1,"aria-current":t===e.id,"aria-disabled":!m(e.id),children:e.title},e.id)}))}),(0,i.jsxs)("div",{className:"quiz__content",children:[1===t&&(0,i.jsx)("div",{className:"quiz__budget",children:u.map((function(e){return(0,i.jsx)("button",{className:"button button--primary product-card__button",onClick:function(){return t=e.id,h(c(c({},d),{budget:t})),void n(2);var t},children:e.label},e.id)}))}),2===t&&(0,i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(3)},className:"quiz__wishes",children:[(0,i.jsx)("textarea",{className:"quiz__textarea",placeholder:"Опишите ваши пожелания...",value:d.wishes,onChange:function(e){return h(c(c({},d),{wishes:e.target.value}))},required:!0}),(0,i.jsxs)("div",{className:"quiz__buttons",children:[(0,i.jsx)("button",{type:"button",className:"button button--outline",onClick:p,children:"Назад"}),(0,i.jsx)("button",{type:"submit",className:"button button--primary",children:"Далее"})]})]}),3===t&&(0,i.jsxs)("form",{onSubmit:function(e){return a(void 0,void 0,void 0,(function(){return l(this,(function(t){return e.preventDefault(),console.log("Form submitted:",d),[2]}))}))},className:"quiz__contacts",children:[(0,i.jsx)("input",{type:"text",className:"quiz__input",placeholder:"Ваше имя",value:d.name,onChange:function(e){return h(c(c({},d),{name:e.target.value}))},required:!0}),(0,i.jsx)("input",{type:"tel",className:"quiz__input",placeholder:"Ваш телефон",value:d.phone,onChange:function(e){return h(c(c({},d),{phone:e.target.value}))},required:!0}),(0,i.jsxs)("div",{className:"quiz__buttons",children:[(0,i.jsx)("button",{type:"button",className:"button button--outline",onClick:p,children:"Назад"}),(0,i.jsx)("button",{type:"submit",className:"button button--primary",children:"Отправить"})]})]})]})]})};var h=n(2896),m=n(7119),p=n(4867);const f=function(e){var t=e.id,n=e.title,c=e.price,a=e.image,l=e.isHot,o=(0,s.useState)(!1),u=o[0],d=o[1],f=(0,s.useState)({x:0,y:0}),_=f[0],b=f[1],x=(0,h.wA)(),j=(0,s.useRef)(null);return(0,i.jsxs)(r.N_,{to:"/product/".concat(t),className:"product-card",children:[l&&(0,i.jsx)("div",{className:"product-card__badge",children:"Горячее предложение"}),(0,i.jsx)("div",{className:"product-card__image",children:(0,i.jsx)("img",{src:a,alt:n})}),(0,i.jsxs)("div",{className:"product-card__content",children:[(0,i.jsx)("h3",{className:"product-card__title",children:n}),(0,i.jsxs)("div",{className:"product-card__price",children:[c," ₽"]}),(0,i.jsx)("button",{ref:j,className:"button button--primary product-card__button",onClick:function(e){e.preventDefault(),e.stopPropagation(),b({x:e.clientX,y:e.clientY}),j.current&&(j.current.classList.add("clicked"),setTimeout((function(){var e;null===(e=j.current)||void 0===e||e.classList.remove("clicked")}),200)),d(!0),setTimeout((function(){x((0,m.bE)({id:t,name:n,price:c,quantity:1,image:a}))}),400)},"data-product-id":t,"aria-label":"Добавить ".concat(n," в корзину"),id:"add-to-cart-special-".concat(t),children:"В корзину"})]}),(0,i.jsx)(p.A,{productId:t,isVisible:u,onAnimationEnd:function(){return d(!1)},clickPosition:_})]})};var _=n(7767),b=n(3057);const x=function(e){var t=e.products,n=(0,_.Zp)(),s=[{id:"cheap",title:"до ₽3000",filter:{min:0,max:3e3},items:t.filter((function(e){return e.price<=3e3})).slice(0,6)},{id:"medium",title:"до ₽5000",filter:{min:3e3,max:5e3},items:t.filter((function(e){return e.price>3e3&&e.price<=5e3})).slice(0,6)},{id:"expensive",title:"дороже ₽5000",filter:{min:5e3,max:null},items:t.filter((function(e){return e.price>5e3})).slice(0,6)}];return(0,i.jsxs)("section",{className:"collections",children:[(0,i.jsx)("h2",{className:"collections__title",children:"Коллекции по цене"}),(0,i.jsx)("p",{className:"collections__subtitle",children:"Подборки букетов в разных ценовых категориях, чтобы вы могли найти идеальный вариант для любого случая и бюджета"}),(0,i.jsx)("div",{className:"collections__grid",children:s.map((function(e){return(0,i.jsxs)("div",{className:"collection",children:[(0,i.jsx)("h3",{className:"collection__title",children:e.title}),(0,i.jsx)("div",{className:"collection__items",children:e.items.map((function(e){return(0,i.jsx)(b.A,{id:e.id,title:e.title,price:e.price,image:e.image},e.id)}))}),(0,i.jsx)("button",{className:"collection__button",onClick:function(){return t=e.filter,(i=new URLSearchParams).set("priceMin",t.min.toString()),t.max&&i.set("priceMax",t.max.toString()),void n("/catalog?".concat(i.toString()));var t,i},children:"Показать все"})]},e.id)}))})]})};var j=n(3785),v=[{id:1,title:"Экспресс-букет",description:"Уникальный сборный букет на вкус нашего флориста",price:1500,image:"/images/special/express.jpg"},{id:2,title:"Букет для учителя",description:"Большой букет, собранный специально к 1 сентября",price:3740,image:"/images/special/teacher.jpg",isHot:!0},{id:3,title:"Миллион алых роз",description:"Монобукет из роз. Сосчитаете сколько их на самом деле?",price:3900,image:"/images/special/roses.jpg"}],N=n(6578),g=function(){return g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},g.apply(this,arguments)};const y=function(){var e=(0,s.useState)(null),t=(e[0],e[1],(0,s.useState)(null)),n=(t[0],t[1],(0,s.useState)(!1)),c=n[0],a=n[1],l=(0,s.useState)(!1),o=l[0],u=l[1],h=(0,s.useRef)(null),m=(0,s.useRef)(null),p=(0,s.useState)(""),_=(p[0],p[1],(0,s.useState)("asc"));_[0],_[1];(0,s.useEffect)((function(){var e=function(){if(h.current&&m.current){var e=h.current.getBoundingClientRect().top,t=m.current.getBoundingClientRect().top;window.innerWidth>1024&&a(e<=100&&t>window.innerHeight)}};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);return(0,i.jsxs)("main",{className:"home",children:[(0,i.jsx)("section",{className:"hero",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"hero__info",children:[(0,i.jsxs)("div",{className:"hero__stores",children:[(0,i.jsx)("p",{className:"hero__stores-text",children:"3 магазина в Иркутске – есть самовывоз"}),(0,i.jsx)("button",{className:"hero__stores-button",onClick:function(){u(!o),document.body.style.overflow=o?"":"hidden"},children:"Показать адреса"})]}),(0,i.jsxs)("div",{className:"hero__contacts",children:[(0,i.jsx)("a",{href:"tel:+79087740015",className:"hero__phone",children:"+7 (908) 774-00-15"}),(0,i.jsx)(N.A,{className:"hero__social"})]})]}),(0,i.jsx)("h1",{className:"hero__title",children:"Доставка цветов в Иркутске"}),(0,i.jsx)("p",{className:"hero__subtitle",children:"Купите букет от 1 500 рублей"}),(0,i.jsx)(r.N_,{to:"/catalog",className:"button button--primary hero__button",children:"Открыть каталог"}),(0,i.jsx)("button",{className:"hero__scroll",onClick:function(){var e=document.querySelector(".special-offers");e&&e.scrollIntoView({behavior:"smooth"})},"aria-label":"Прокрутить вниз",children:(0,i.jsx)("svg",{className:"hero__scroll-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]})}),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"home__content",children:[(0,i.jsxs)("div",{className:"home__main",children:[(0,i.jsxs)("section",{className:"special-offers",children:[(0,i.jsx)("h2",{className:"section-title",children:"Специальные предложения"}),(0,i.jsx)("div",{className:"special-offers__grid",children:v.map((function(e){return(0,i.jsx)(f,g({},e),e.id)}))})]}),(0,i.jsx)(x,{products:j.Z})]}),(0,i.jsx)("aside",{className:"home__sidebar",ref:h,children:(0,i.jsxs)("article",{className:"adsblock ".concat(c?"sticky":""),children:[(0,i.jsx)("div",{className:"adsblock__image",children:(0,i.jsx)("img",{src:"/images/masterclass.jpg",alt:"Мастер-класс флористики"})}),(0,i.jsxs)("div",{className:"adsblock__content",children:[(0,i.jsx)("h3",{className:"adsblock__title",children:"Мастер-класс для начинающих флористов"}),(0,i.jsx)("p",{className:"adsblock__free",children:"БЕСПЛАТНО"}),(0,i.jsx)("button",{className:"button button--primary adsblock__button",children:"Хочу стать флористом"})]})]})})]}),(0,i.jsx)("section",{className:"quiz-section",ref:m,children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)(d,{})})})]})]})}}}]);