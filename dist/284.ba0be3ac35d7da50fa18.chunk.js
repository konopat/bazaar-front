"use strict";(self.webpackChunkbazaar_front=self.webpackChunkbazaar_front||[]).push([[284],{9284:(e,a,t)=>{t.r(a),t.d(a,{default:()=>l});var s=t(4848),r=t(6540),n=t(2896),i=t(7119),c=function(){return c=Object.assign||function(e){for(var a,t=1,s=arguments.length;t<s;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e},c.apply(this,arguments)};const l=function(){var e=(0,r.useState)("delivery"),a=e[0],t=e[1],l=(0,r.useState)({name:"",phone:"",email:"",address:"",comment:""}),d=l[0],m=l[1],u=(0,n.d4)((function(e){return e.cart.items})),o=(0,n.d4)((function(e){return e.cart.total})),h=(0,n.wA)(),_=function(e,a){a>0&&h((0,i.RO)({id:e,quantity:a}))};return 0===u.length?(0,s.jsx)("div",{className:"cart cart--empty",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{className:"cart__title",children:"Корзина пуста"}),(0,s.jsx)("p",{className:"cart__message",children:"Добавьте товары в корзину, чтобы оформить заказ"}),(0,s.jsx)("a",{href:"/catalog",className:"button button--primary",children:"Перейти в каталог"})]})}):(0,s.jsx)("div",{className:"cart",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{className:"cart__title",children:"Корзина"}),(0,s.jsxs)("div",{className:"cart__content",children:[(0,s.jsx)("div",{className:"cart__items",children:u.map((function(e){return(0,s.jsxs)("div",{className:"cart-item",children:[(0,s.jsx)("div",{className:"cart-item__image",children:(0,s.jsx)("img",{src:e.image,alt:e.name})}),(0,s.jsxs)("div",{className:"cart-item__info",children:[(0,s.jsx)("h3",{className:"cart-item__title",children:e.name}),(0,s.jsxs)("div",{className:"cart-item__price",children:[e.price," ₽"]})]}),(0,s.jsxs)("div",{className:"cart-item__quantity",children:[(0,s.jsx)("button",{className:"cart-item__quantity-btn",onClick:function(){return _(e.id,e.quantity-1)},children:"-"}),(0,s.jsx)("span",{className:"cart-item__quantity-value",children:e.quantity}),(0,s.jsx)("button",{className:"cart-item__quantity-btn",onClick:function(){return _(e.id,e.quantity+1)},children:"+"})]}),(0,s.jsxs)("div",{className:"cart-item__total",children:[e.price*e.quantity," ₽"]}),(0,s.jsx)("button",{className:"cart-item__remove",onClick:function(){return a=e.id,void h((0,i.dt)(a));var a},children:"✕"})]},e.id)}))}),(0,s.jsxs)("div",{className:"cart__sidebar",children:[(0,s.jsxs)("div",{className:"cart__summary",children:[(0,s.jsxs)("div",{className:"cart__summary-row",children:[(0,s.jsxs)("span",{children:["Товары (",u.length,")"]}),(0,s.jsxs)("span",{children:[o," ₽"]})]}),(0,s.jsxs)("div",{className:"cart__summary-row",children:[(0,s.jsx)("span",{children:"Доставка"}),(0,s.jsx)("span",{children:"delivery"===a?"300 ₽":"Бесплатно"})]}),(0,s.jsxs)("div",{className:"cart__summary-total",children:[(0,s.jsx)("span",{children:"Итого"}),(0,s.jsxs)("span",{children:[o+("delivery"===a?300:0)," ₽"]})]})]}),(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("Order submitted:",c({items:u,total:o,deliveryType:a},d))},className:"cart__form",children:[(0,s.jsxs)("div",{className:"cart__form-section",children:[(0,s.jsx)("h3",{className:"cart__form-title",children:"Способ получения"}),(0,s.jsxs)("div",{className:"cart__delivery-type",children:[(0,s.jsxs)("label",{className:"radio",children:[(0,s.jsx)("input",{type:"radio",name:"deliveryType",value:"delivery",checked:"delivery"===a,onChange:function(){return t("delivery")}}),(0,s.jsx)("span",{children:"Доставка"})]}),(0,s.jsxs)("label",{className:"radio",children:[(0,s.jsx)("input",{type:"radio",name:"deliveryType",value:"pickup",checked:"pickup"===a,onChange:function(){return t("pickup")}}),(0,s.jsx)("span",{children:"Самовывоз"})]})]})]}),(0,s.jsxs)("div",{className:"cart__form-section",children:[(0,s.jsx)("h3",{className:"cart__form-title",children:"Контактные данные"}),(0,s.jsx)("input",{type:"text",placeholder:"Ваше имя",value:d.name,onChange:function(e){return m(c(c({},d),{name:e.target.value}))},required:!0,className:"cart__input"}),(0,s.jsx)("input",{type:"tel",placeholder:"Телефон",value:d.phone,onChange:function(e){return m(c(c({},d),{phone:e.target.value}))},required:!0,className:"cart__input"}),(0,s.jsx)("input",{type:"email",placeholder:"Email",value:d.email,onChange:function(e){return m(c(c({},d),{email:e.target.value}))},required:!0,className:"cart__input"}),"delivery"===a&&(0,s.jsx)("input",{type:"text",placeholder:"Адрес доставки",value:d.address,onChange:function(e){return m(c(c({},d),{address:e.target.value}))},required:!0,className:"cart__input"}),(0,s.jsx)("textarea",{placeholder:"Комментарий к заказу",value:d.comment,onChange:function(e){return m(c(c({},d),{comment:e.target.value}))},className:"cart__textarea"})]}),(0,s.jsx)("button",{type:"submit",className:"button button--primary cart__submit",children:"Оформить заказ"})]})]})]})]})})}}}]);